---
id: pagerduty
title: "PagerDuty"
sidebar_position: 6
---

## Botkube Cloud PagerDuty

The Botkube Cloud PagerDuty integration ensure timely reactions to both alerts and changes in your Kubernetes cluster.

<!-- Action Item: @Blair to provide PagerDuty description -->

You can directly try Botkube Cloud PagerDuty app for free by creating an account in the [Botkube Web App](https://app.botkube.io). Follow the steps below to install the app.

## Prerequisites

- A Botkube Cloud account.

  You can try out the PagerDuty integration for Botkube for free by creating an account in the [Botkube Cloud app](https://app.botkube.io).

## Create a Botkube Cloud Instance with PagerDuty

### Connect Botkube Cloud to your Kubernetes cluster

1. Go to Botkube Cloud [Web App](https://app.botkube.io/) and click on `New Instance` button.

   ![New Instance](../assets/cloud_new_instance.png "Create new instance")

2. Install Botkube Agent on your Kubernetes cluster by following the instructions on the page.

   ![Install Agent](../assets/cloud_install.png "Install Agent")

3. Click `Add platform` dropdown, and select `PagerDuty` option.

   ![Platform Select](./assets/pagerduty_platform_select.png "Select PagerDuty platform")

Proceed with the next section.

### Create a PagerDuty Service

:::note
For a detailed guide, navigate to PagerDuty's support page [Services and Integrations](https://support.pagerduty.com/docs/services-and-integrations#create-a-service).
:::

To create a service in the PagerDuty web app:

1. Go to **Services** -> **Service Directory** and click **New Service**. On the next screen you will be guided through several steps.
   1. Enter **Name**. We suggest to put a cluster name, for example: "Production EU".
   2. Click **Next** to continue.
2. Select Escalation Policy that suits you best. Click **Next** to continue.
3. Select Reduce Noise policy that suits you best. Click **Next** to continue.
4. Select the **Events API V2** integration.

   ![pagerduty_integration.png](./assets/pagerduty_app_integration.png)

5. Click **Create Service**.
6. Now you will be in the service’s Integrations tab, where you’ll find the **Integration Key**.
7. Copy the **Integration Key** and proceed with the next section.

   ![pagerduty_app_event_integration_key.png](assets/pagerduty_app_event_integration_key.png)

### Finalize Botkube Cloud instance configuration

Go back to the Botkube Cloud instance creation.

1. In step 2, specify configuration details:

   - **Integration Key:** The integration key generated by PagerDuty in the previous section.

   ![Botkube Cloud Instance Configuration](./assets/pagerduty_configuration.png "Botkube Cloud Instance configuration")

2. Add source plugins you want to enable in your Botkube instance and click `Next` button.

   ![Source Plugins](./assets/pagerduty_source_plugins.png "Source plugins")

3. Click `Apply Changes` button to update Botkube Cloud instance.

   ![Cloud Instance Create](./assets/pagerduty_instance_create.png "Cloud Instance create")

## Using Botkube Cloud with PagerDuty Integration

From now on, all events emitted by enabled sources are routed directly to created PagerDuty service using the [Events API v2](https://developer.pagerduty.com/docs/ZG9jOjExMDI5NTgw-events-api-v2-overview). Botkube follows the best practices by recognizing different event types and sending them to PagerDuty accordingly.

![pagerduty_app_alert_and_changes.png](assets/pagerduty_app_alert_and_changes.png)

### Alerts

An [alert](https://developer.pagerduty.com/docs/ZG9jOjExMDI5NTgx-send-an-alert-event) indicates a problem within a monitored cluster. Botkube forwards the following types of alerts to PagerDuty:

- **[Kubernetes](../../plugins/kubernetes.md#event-types) plugin:** `error` and `delete` events.
- **[ArgoCD](../../plugins/argocd.md) plugin:** application events including synchronization failures and health status degradation.
- **[Prometheus](../../plugins/prometheus.md) plugin:** All configured alerts.

To see the alerts in the PagerDuty web app, click **Incidents** tab and select **Alerts**:

![pagerduty_app_alert.png](assets/pagerduty_app_alert.png)

### Changes

A [change](https://developer.pagerduty.com/docs/ZG9jOjExMDI5NTgy-send-a-change-event) indicates a non-problematic update within a cluster. Botkube forwards the following types of change events to PagerDuty:

- **[Kubernetes](../../plugins/kubernetes.md) plugin:** `create` and `update` events.
- **[ArgoCD](../../plugins/argocd.md) plugin:** application events including creation, updates, deployment, and deletion. Additionally, the synchronization statuses include running, unknown, and succeeded events.

To see the changes in the PagerDuty web app, click **Incidents** tab and select **Recent Changes**:

![pagerduty_app_changes.png](assets/pagerduty_app_changes.png)

## Instance Cleanup

1. Go to Botkube Cloud home page and click `Manage` button of the instance you want to remove.

2. Click `Delete instance` button, type instance name in the popup and click `Delete instance`.

   :::caution
   Remember to execute the displayed command to completely remove Botkube and related resources from your cluster.
   :::

   ![Cloud Instance Delete](../assets/cloud_instance_delete.png "Cloud Instance delete")

## Limitations

Botkube Cloud PagerDuty App currently doesn't support the following features:

- Botkube doesn't send a follow-up events to acknowledge or resolve triggered alert.
